@startuml

object activity {
	unique_id : int8 primary key
	aid_id : int8 not null
	aid_cid_nid : int8 not null
	aid_cid_pid : int8 not null
	aid_cid_time : int8 not null
	aid_cid_num : int4 not null
	ucaid : int8 not null
	time_start : int8 not null
	time_stop : int8
	error_value : int8
	attributes : attribute[]
}

object parent {
	parent_aid_id : int8 not null
	parent_cid_nid : int8 not null
	parent_cid_pid : int8 not null
	parent_cid_time : int8 not null
	parent_cid_num : int4 not null
	child_unique_id : int8 not null
}

parent -- activity : "child_unique_id = unique_id"

object attribute {
	key : int8
	value : varchar(255)
}
note left: Not a table, but PostgreSQL type.

object ontology {
	id : int8 
	domain : varchar(255)
	name : varchar(255)
	type : int2
}

activity -- ontology : "attribute.key = ontology.id"

package SystemInformationGlobalIDManager <<frame>> {
	object NodeMapping #skyblue {
		NodeID : int4 key auto-increment
		Hostname: string unique
	}

	object DeviceMapping #skyblue {
		DeviceID : int4 key auto-increment
		UniqueIdentifier: string unique
		NodeID: int4 foreign key
	}

	object FilesystemMapping #skyblue {
		FilesystemID : int4 key auto-increment
		UniqueIdentifier: string unique
	}

	object UniqueInterfaceMapping #skyblue {
		UniqueInterfaceID : int4 key auto-increment
		Interface: string
		Implementation: string
	}

	object ActivityMapping #skyblue {
		ActivityID : int4 key auto-increment
		Name: string
		UniqueInterfaceID: int4 foreign-key
	}
}
@enduml
